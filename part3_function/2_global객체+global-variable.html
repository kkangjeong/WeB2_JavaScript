<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <script>

            alert(a);
            var a = 1;
            // 주의) 두 줄 순서에 상관없이 이 지역 자체가 실행되기 위해서는 모든 변수 선언(var썼으니까)은 되어있다!
            //undefined가 뜬다 : 변수 선언은 되었지만(var로) 값 할당은 아직 안되었으니까


            //자바스크립트에서 변수 선언 없이 쓸 수 있었던 이유
            a = 1;
            alert(a);
            //선언하지 않고 할당되었을 경우 : a는 전역 객체(=window 객체)가 있다 -> 1출력 가능
            //window 객체에 a 속성을 넣어서 출력이 가능한 것


            alert(a);
            a = 1;
            //무조건 에러가 난다// 선언도 안했고, 선언 없이 할당된 건 전역 객체에 붙는 거기 때문에 첫줄에서 실행될 때에는 아직 없는 거라서


            //자바스크립트에서 변수 선언 없이 쓸 수 있다고 한 건 -> 자동으로 window객체에 속성이 붙었던 것//a가 전역변수라서 funtion함수 안에서, 밖에서 둘다 사용가능
            varf1 = function () {
                a = 1;      //window.a = 1; 인 것이다
                // var a = 3;   //있다면 윗줄의 전역변수와 지역변수가 충돌 -> 지역변수가 우선 -> 4출력
                a++;
                alert(a);
            }




            //자바스크립트에서는 동일한 변수 여러 번 선언해도 에러안뜬다
            var a = 1;
            var a = 2;
            alert(a);  //2출력


            //자바스크립트에서는 변수 지역화가 없다 -> 함수에서만 지역변수 개념이 있다!
            {
                var a = 1;      //중괄호가 사실상 의미가 없다
            }

            alert(a);


            //함수에만 있는 지역변수 개념 설명하기 위해 -> 지역변수라서 alert하면 에러 뜬다
            //자바스크립트는 var 변수 선언 안해도 되니까 var을 지우는 데 그러면 선언된 적 없어서 지역변수가 아니니까 윈도우객체에 a가 붙어서 에러 나지는 않는다
            function f1() {
                var a = 1;
            }

            fl();
            alert(a);



            //만약에1
            function f1() {
                var a = 1;
            }

            alert(a);   //지역변수라 에러 뜨고
            fl();



            //만약에2
            function f1() {
                a = 1;
            }

            alert(a);   //여기서 에러 //a = 1로 전역변수 만들어진다고 해도
            fl();       //호출을 뒤에서 했으니까//호출하기 전까지는 전역 변수가 없으니까



            //2개 함수 일 때
            function f1() {
                a = 1;
            }
            function f2() {
                alert(a);
            }
            f1();   //전역변수 만들고
            f2();   //전역변수 이용하고 문제 없다


            //만약에
            function f1() {
                var a = 1;  //지역변수에다 1대입
            }
            function f2() {
                alert(a);
            }
            f1();
            f2();   //이 때 전역변수 없으니 에러


        </script>
   </body>
</html>


